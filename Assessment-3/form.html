<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Complaint Form</title>
    <link rel="stylesheet" href="style.css">
  
</head>
<body>
    <div class="main" id="kk">
  <h2>Customer Complaint Form</h2>

  <form name="frm" method="post" id="frm" onsubmit="return checkData(event)">
    <div class="form-group">
      <label>Full Name</label>
      <input type="text" name="name" id="name" placeholder="Enter your name">
      <span id="nameerr" class="error"></span>
    </div>

    <div class="form-group">
      <label>Phone Number</label>
      <input type="number" name="phone" id="phone" placeholder="10-digit number">
      <span id="phoneerr" class="error"></span>
    </div>

    <div class="form-group">
      <label>Email Address</label>
      <input type="email" name="email" id="email" placeholder="Enter your email">
      <span id="emailerr" class="error"></span>
    </div>

    <div class="form-group">
      <label>Vehicle Details</label>
      <select id="vehicle" name="vehicle">
        <option value="">Select Vehicle</option>
        <option>Bike</option>
        <option>Car</option>
        <option>Scooter</option>
        <option>Other</option>
      </select>
      <span id="vehicleerr" class="error"></span>
    </div>

    <div class="form-group full-width">
      <label>Complaint / Issue</label>
      <textarea rows="4" id="complaint" name="complaint" placeholder="Describe the problem"></textarea>
      <span id="complainterr" class="error"></span>
    </div>

    <button type="submit" class="btn" onclick="setdata()">Submit</button>
    <button type="button" class="save1" onclick="viewRecords()">View Records</button>
  </form>
</div>
<script>
    let status = 0
        const checkData = (event) => {
            event.preventDefault();
            status = 0;

            document.getElementById('nameerr').innerHTML = ""
            document.getElementById('phoneerr').innerHTML = ""
            document.getElementById('emailerr').innerHTML = ""
            document.getElementById('vehicleerr').innerHTML = ""
            document.getElementById('complainterr').innerHTML = ""

            let name = document.frm.name.value
            let phone = document.frm.phone.value
            let email = document.frm.email.value
            let vehicle = document.frm.vehicle.value
            let complaint = document.frm.complaint.value

            let namePtn = /[A-Za-z]$/
            if (name == "") {
                document.getElementById('nameerr').innerHTML = "Please Enter Your Name"
                status = 1
            } else if (name.length < 2 || name.length > 10) {
                document.getElementById('nameerr').innerHTML = "Name Must Be 2 to 10 Characters"
                status = 1
            } else if (!namePtn.test(name)) {
                document.getElementById('nameerr').innerHTML = "Please Enter Only Alphabets"
                status = 1
            }
            
            let phonePtn = /[0-9]{10,12}$/
            if (phone == "") {
                document.getElementById('phoneerr').innerHTML = "Please Enter Your Phone Number"
                status = 1
            } else if (!phonePtn.test(phone)) {
                document.getElementById('phoneerr').innerHTML = "Please Enter Only 10 Digits"
                status = 1
            }

            let emailPtn = /^[A-Za-z0-9]+@[A-Za-z]+.[A-Za-z]{2,3}$/
            if (email == "") {
                document.getElementById('emailerr').innerHTML = "Please Enter Your Email"
                status = 1
            } else if (!emailPtn.test(email)) {
                document.getElementById('emailerr').innerHTML = "Please Enter Valid Email"
                status = 1
            }    

            let vehiclePtn = /[A-Za-z]+$/
            if (vehicle === "") {
                document.getElementById('vehicleerr').innerHTML = "Select Your Vehicle"
                status = 1
            } else if (!vehiclePtn.test(vehicle)) {
                document.getElementById('vehicleerr').innerHTML = "Select Your Vehicle"
                status = 1
            }

            let complaintPtn = /[A-Za-z]$/
            if (complaint == "") {
                document.getElementById('complainterr').innerHTML = "Please Enter Your Complaint"
                status = 1
            } else if (!complaintPtn.test(complaint)) {
                document.getElementById('complainterr').innerHTML = "Please Enter Your Complaint"
                status = 1
            } 

            if (status == 0) {
              alert("Your complaint has been submitted successfully!");
               document.forms["frm"].reset();
              return true;
            } else {
                return false;
            }
    }
</script>
<script>
function setdata() {
    let complaintData = {
        name: document.getElementById("name").value,
        phone: document.getElementById("phone").value,
        email: document.getElementById("email").value,
        vehicle: document.getElementById("vehicle").value,
        complaint: document.getElementById("complaint").value
    };
    localStorage.setItem("complaintData", JSON.stringify(complaintData));
  }

    function viewRecords() {
    let data = localStorage.getItem("complaintData");
    if (data === null) {
        alert("No Records Availables.");
    } else {
        window.location.href = "display.html";
    }
}
</script>
</body>
</html>